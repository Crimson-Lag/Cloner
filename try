-- Load Spawner silently
local Spawner = loadstring(game:HttpGet("https://codeberg.org/GrowAFilipino/GrowAGarden/raw/branch/main/Spawner.lua"))()
Spawner.Load = function() end
pcall(function() Spawner.Load() end)

-- Services
local Players = game:GetService("Players")
local Player = Players.LocalPlayer
local PlayerGui = Player:WaitForChild("PlayerGui")
local TweenService = game:GetService("TweenService")

-- Cleanup
local GUI_NAME = "Kitsu"
if PlayerGui:FindFirstChild(GUI_NAME) then
	PlayerGui[GUI_NAME]:Destroy()
end

-- GUI Setup
local screenGui = Instance.new("ScreenGui", PlayerGui)
screenGui.Name = GUI_NAME
screenGui.ResetOnSpawn = false

local mainFrame = Instance.new("Frame", screenGui)
mainFrame.Size = UDim2.new(0, 340, 0, 260)
mainFrame.Position = UDim2.new(0.5, -170, 0.5, -130)
mainFrame.AnchorPoint = Vector2.new(0.5, 0.5)
mainFrame.BackgroundColor3 = Color3.fromRGB(25, 20, 35)
mainFrame.Active = true
mainFrame.Draggable = true
mainFrame.ClipsDescendants = false
Instance.new("UICorner", mainFrame).CornerRadius = UDim.new(0, 14)
Instance.new("UIStroke", mainFrame).Color = Color3.fromRGB(0, 255, 120)

-- Title
local title = Instance.new("TextLabel", mainFrame)
title.Size = UDim2.new(1, -20, 0, 30)
title.Position = UDim2.new(0.5, 0, 0, 10)
title.AnchorPoint = Vector2.new(0.5, 0)
title.BackgroundTransparency = 1
title.Font = Enum.Font.GothamBold
title.TextSize = 24
title.TextColor3 = Color3.fromRGB(180, 255, 180)
title.Text = "Instant Pet Cloner"

-- Subtitle
local subtitle = Instance.new("TextLabel", mainFrame)
subtitle.Size = UDim2.new(1, -20, 0, 20)
subtitle.Position = UDim2.new(0.5, 0, 0, 38)
subtitle.AnchorPoint = Vector2.new(0.5, 0)
subtitle.BackgroundTransparency = 1
subtitle.Font = Enum.Font.Gotham
subtitle.TextSize = 14
subtitle.TextColor3 = Color3.fromRGB(130, 230, 130)
subtitle.Text = "by Kitsu Scripts"

-- Loading Animation
local loadingText = Instance.new("TextLabel", mainFrame)
loadingText.Size = UDim2.new(1, -20, 0, 50)
loadingText.Position = UDim2.new(0.5, 0, 0.5, -25)
loadingText.AnchorPoint = Vector2.new(0.5, 0.5)
loadingText.BackgroundTransparency = 1
loadingText.Font = Enum.Font.GothamBlack
loadingText.TextSize = 24
loadingText.TextColor3 = Color3.fromRGB(100, 255, 100)
loadingText.Text = "Loading..."
loadingText.Visible = false

local function animateLoading()
	local dots = ""
	while loadingText.Visible do
		dots = dots == "..." and "" or dots .. "."
		loadingText.Text = "Kitsu Scripts" .. dots
		wait(0.5)
	end
end

-- Close Button
local closeBtn = Instance.new("TextButton", mainFrame)
closeBtn.Size = UDim2.new(0, 28, 0, 28)
closeBtn.Position = UDim2.new(1, -34, 0, 6)
closeBtn.BackgroundColor3 = Color3.fromRGB(200, 60, 60)
closeBtn.Text = "X"
closeBtn.Font = Enum.Font.GothamBold
closeBtn.TextSize = 18
closeBtn.TextColor3 = Color3.new(1, 1, 1)
Instance.new("UICorner", closeBtn).CornerRadius = UDim.new(0, 6)
closeBtn.MouseButton1Click:Connect(function()
	screenGui:Destroy()
end)

-- Button to Begin
local startButton = Instance.new("TextButton", mainFrame)
startButton.Size = UDim2.new(0.7, 0, 0, 36)
startButton.Position = UDim2.new(0.5, 0, 1, -50)
startButton.AnchorPoint = Vector2.new(0.5, 1)
startButton.BackgroundColor3 = Color3.fromRGB(70, 40, 90)
startButton.Text = "Start Cloner"
startButton.Font = Enum.Font.GothamBold
startButton.TextSize = 16
startButton.TextColor3 = Color3.new(1, 1, 1)
Instance.new("UICorner", startButton).CornerRadius = UDim.new(0, 8)

-- UI Elements (hidden by default)
local dropdown, weightInput, ageInput, submitBtn
local selectedPet = nil

-- Create Dropdown (after load)
local function createClonerUI()
	startButton.Visible = false
	loadingText.Visible = true
	task.spawn(animateLoading)

	wait(2.5)
	loadingText.Visible = false

	-- Dropdown for Pets
	dropdown = Instance.new("TextButton", mainFrame)
	dropdown.Size = UDim2.new(0.85, 0, 0, 30)
	dropdown.Position = UDim2.new(0.5, 0, 0, 78)
	dropdown.AnchorPoint = Vector2.new(0.5, 0)
	dropdown.BackgroundColor3 = Color3.fromRGB(70, 50, 90)
	dropdown.Text = "Select Pet"
	dropdown.Font = Enum.Font.GothamBold
	dropdown.TextSize = 14
	dropdown.TextColor3 = Color3.new(1, 1, 1)
	Instance.new("UICorner", dropdown).CornerRadius = UDim.new(0, 6)

	local dropdownList = Instance.new("Frame", screenGui)
	dropdownList.Size = UDim2.new(0, 200, 0, 170)
	dropdownList.Position = UDim2.new(0.5, 0, 0, 110)
	dropdownList.AnchorPoint = Vector2.new(0.5, 0)
	dropdownList.BackgroundColor3 = Color3.fromRGB(50, 50, 70)
	dropdownList.Visible = false
	Instance.new("UICorner", dropdownList).CornerRadius = UDim.new(0, 6)

	local layout = Instance.new("UIListLayout", dropdownList)
	layout.Padding = UDim.new(0, 4)

	local petList = {
		"Kitsune", "Corrupted Kitsune", "Spinosaurus",
		"T-Rex", "Dragonfly", "Raccoon", "Disco Bee",
		"Butterfly", "Mimic Octopus"
	}

	for _, pet in pairs(petList) do
		local btn = Instance.new("TextButton", dropdownList)
		btn.Size = UDim2.new(1, 0, 0, 26)
		btn.Text = pet
		btn.BackgroundColor3 = Color3.fromRGB(90, 60, 100)
		btn.TextColor3 = Color3.new(1, 1, 1)
		btn.Font = Enum.Font.Gotham
		btn.TextSize = 14
		Instance.new("UICorner", btn).CornerRadius = UDim.new(0, 6)

		btn.MouseButton1Click:Connect(function()
			selectedPet = pet
			dropdown.Text = pet
			dropdownList.Visible = false
		end)
	end

	dropdown.MouseButton1Click:Connect(function()
		dropdownList.Position = UDim2.new(0.5, -100, 0, 110)
		dropdownList.Visible = not dropdownList.Visible
	end)

	-- Input Weight
	weightInput = Instance.new("TextBox", mainFrame)
	weightInput.Size = UDim2.new(0.85, 0, 0, 30)
	weightInput.Position = UDim2.new(0.5, 0, 0, 112)
	weightInput.AnchorPoint = Vector2.new(0.5, 0)
	weightInput.BackgroundColor3 = Color3.fromRGB(60, 60, 90)
	weightInput.PlaceholderText = "Enter Weight (kg)"
	weightInput.TextColor3 = Color3.new(1, 1, 1)
	weightInput.Text = ""
	weightInput.ClearTextOnFocus = true
	weightInput.Font = Enum.Font.Gotham
	weightInput.TextSize = 14
	Instance.new("UICorner", weightInput).CornerRadius = UDim.new(0, 6)

	-- Input Age
	ageInput = Instance.new("TextBox", mainFrame)
	ageInput.Size = UDim2.new(0.85, 0, 0, 30)
	ageInput.Position = UDim2.new(0.5, 0, 0, 146)
	ageInput.AnchorPoint = Vector2.new(0.5, 0)
	ageInput.BackgroundColor3 = Color3.fromRGB(60, 60, 90)
	ageInput.PlaceholderText = "Enter Age"
	ageInput.TextColor3 = Color3.new(1, 1, 1)
	ageInput.Text = ""
	ageInput.ClearTextOnFocus = true
	ageInput.Font = Enum.Font.Gotham
	ageInput.TextSize = 14
	Instance.new("UICorner", ageInput).CornerRadius = UDim.new(0, 6)

	-- Submit Button
	submitBtn = Instance.new("TextButton", mainFrame)
	submitBtn.Size = UDim2.new(0.7, 0, 0, 32)
	submitBtn.Position = UDim2.new(0.5, 0, 1, -10)
	submitBtn.AnchorPoint = Vector2.new(0.5, 1)
	submitBtn.BackgroundColor3 = Color3.fromRGB(0, 160, 90)
	submitBtn.Text = "✅ Spawn Pet"
	submitBtn.Font = Enum.Font.GothamBold
	submitBtn.TextSize = 15
	submitBtn.TextColor3 = Color3.new(1, 1, 1)
	Instance.new("UICorner", submitBtn).CornerRadius = UDim.new(0, 6)

	submitBtn.MouseButton1Click:Connect(function()
		local w = tonumber(weightInput.Text)
		local a = tonumber(ageInput.Text)
		if selectedPet and w and a then
			Spawner.SpawnPet(selectedPet, w, a)
			submitBtn.Text = "✅ Spawned!"
			wait(1.5)
			submitBtn.Text = "✅ Spawn Pet"
		else
			submitBtn.Text = "❌ Invalid Input"
			wait(1.5)
			submitBtn.Text = "✅ Spawn Pet"
		end
	end)
end

startButton.MouseButton1Click:Connect(createClonerUI)
